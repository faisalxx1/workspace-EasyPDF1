/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/pdf/merge/route";
exports.ids = ["app/api/pdf/merge/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fpdf%2Fmerge%2Froute&page=%2Fapi%2Fpdf%2Fmerge%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpdf%2Fmerge%2Froute.ts&appDir=%2FUsers%2Ff2i1%2FDocuments%2FGitHub%2Fworkspace-EasyPDF1%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ff2i1%2FDocuments%2FGitHub%2Fworkspace-EasyPDF1&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fpdf%2Fmerge%2Froute&page=%2Fapi%2Fpdf%2Fmerge%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpdf%2Fmerge%2Froute.ts&appDir=%2FUsers%2Ff2i1%2FDocuments%2FGitHub%2Fworkspace-EasyPDF1%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ff2i1%2FDocuments%2FGitHub%2Fworkspace-EasyPDF1&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_f2i1_Documents_GitHub_workspace_EasyPDF1_src_app_api_pdf_merge_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/pdf/merge/route.ts */ \"(rsc)/./src/app/api/pdf/merge/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/pdf/merge/route\",\n        pathname: \"/api/pdf/merge\",\n        filename: \"route\",\n        bundlePath: \"app/api/pdf/merge/route\"\n    },\n    resolvedPagePath: \"/Users/f2i1/Documents/GitHub/workspace-EasyPDF1/src/app/api/pdf/merge/route.ts\",\n    nextConfigOutput,\n    userland: _Users_f2i1_Documents_GitHub_workspace_EasyPDF1_src_app_api_pdf_merge_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZwZGYlMkZtZXJnZSUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGcGRmJTJGbWVyZ2UlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZwZGYlMkZtZXJnZSUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmYyaTElMkZEb2N1bWVudHMlMkZHaXRIdWIlMkZ3b3Jrc3BhY2UtRWFzeVBERjElMkZzcmMlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGZjJpMSUyRkRvY3VtZW50cyUyRkdpdEh1YiUyRndvcmtzcGFjZS1FYXN5UERGMSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDcUI7QUFDOEI7QUFDM0c7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlHQUFtQjtBQUMzQztBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzREFBc0Q7QUFDOUQ7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDMEY7O0FBRTFGIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9mMmkxL0RvY3VtZW50cy9HaXRIdWIvd29ya3NwYWNlLUVhc3lQREYxL3NyYy9hcHAvYXBpL3BkZi9tZXJnZS9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvcGRmL21lcmdlL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvcGRmL21lcmdlXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9wZGYvbWVyZ2Uvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvZjJpMS9Eb2N1bWVudHMvR2l0SHViL3dvcmtzcGFjZS1FYXN5UERGMS9zcmMvYXBwL2FwaS9wZGYvbWVyZ2Uvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICB3b3JrQXN5bmNTdG9yYWdlLFxuICAgICAgICB3b3JrVW5pdEFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fpdf%2Fmerge%2Froute&page=%2Fapi%2Fpdf%2Fmerge%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpdf%2Fmerge%2Froute.ts&appDir=%2FUsers%2Ff2i1%2FDocuments%2FGitHub%2Fworkspace-EasyPDF1%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ff2i1%2FDocuments%2FGitHub%2Fworkspace-EasyPDF1&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/pdf/merge/route.ts":
/*!****************************************!*\
  !*** ./src/app/api/pdf/merge/route.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_pdf_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/pdf-utils */ \"(rsc)/./src/lib/pdf-utils.ts\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./src/lib/db.ts\");\n\n\n\nasync function POST(request) {\n    return await (0,_lib_db__WEBPACK_IMPORTED_MODULE_2__.withDb)(async ()=>{\n        try {\n            const { fileIds, options = {} } = await request.json();\n            if (!fileIds || !Array.isArray(fileIds) || fileIds.length < 2) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: 'At least 2 files are required for merging'\n                }, {\n                    status: 400\n                });\n            }\n            // Create processing job\n            const processingJob = await _lib_db__WEBPACK_IMPORTED_MODULE_2__.db.processingJob.create({\n                data: {\n                    fileIds: JSON.stringify(fileIds),\n                    operation: 'merge',\n                    status: 'processing',\n                    parameters: JSON.stringify(options),\n                    userId: request.headers.get('user-id') || null\n                }\n            });\n            try {\n                // Get file paths from database\n                const files = await _lib_db__WEBPACK_IMPORTED_MODULE_2__.db.pDFFile.findMany({\n                    where: {\n                        id: {\n                            in: fileIds\n                        }\n                    }\n                });\n                if (files.length !== fileIds.length) {\n                    throw new Error('Some files not found');\n                }\n                const filePaths = files.map((file)=>file.filePath);\n                // Process PDF merge\n                const result = await _lib_pdf_utils__WEBPACK_IMPORTED_MODULE_1__.pdfProcessor.mergePDFs(filePaths, options);\n                // Update processing job\n                await _lib_db__WEBPACK_IMPORTED_MODULE_2__.db.processingJob.update({\n                    where: {\n                        id: processingJob.id\n                    },\n                    data: {\n                        status: result.success ? 'completed' : 'failed',\n                        progress: 100,\n                        error: result.error,\n                        completedAt: new Date()\n                    }\n                });\n                // Create processing history\n                await _lib_db__WEBPACK_IMPORTED_MODULE_2__.db.processingHistory.create({\n                    data: {\n                        userId: request.headers.get('user-id') || null,\n                        jobId: processingJob.id,\n                        operation: 'merge',\n                        status: result.success ? 'completed' : 'failed',\n                        parameters: JSON.stringify(options),\n                        result: result.success ? JSON.stringify({\n                            filePath: result.filePath,\n                            fileSize: result.fileSize\n                        }) : null,\n                        error: result.error,\n                        ipAddress: request.headers.get('x-forwarded-for') || request.ip || null,\n                        userAgent: request.headers.get('user-agent') || null\n                    }\n                });\n                if (!result.success) {\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        error: result.error\n                    }, {\n                        status: 500\n                    });\n                }\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    success: true,\n                    jobId: processingJob.id,\n                    filePath: result.filePath,\n                    fileSize: result.fileSize,\n                    downloadUrl: `/api/download?path=${encodeURIComponent(result.filePath)}`\n                });\n            } catch (error) {\n                // Update processing job with error\n                await _lib_db__WEBPACK_IMPORTED_MODULE_2__.db.processingJob.update({\n                    where: {\n                        id: processingJob.id\n                    },\n                    data: {\n                        status: 'failed',\n                        error: error instanceof Error ? error.message : 'Unknown error',\n                        completedAt: new Date()\n                    }\n                });\n                throw error;\n            }\n        } catch (error) {\n            console.error('Merge PDF error:', error);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Failed to merge PDFs'\n            }, {\n                status: 500\n            });\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkFBRUMsUUFBUTtvQkFBSTtnQkFFbEI7Z0JBRUEsT0FBT2IscURBQVlBLENBQUNRLElBQUksQ0FBQztvQkFDdkI4QixTQUFTO29CQUNUSyxPQUFPN0IsY0FBY2MsRUFBRTtvQkFDdkJNLFVBQVVDLE9BQU9ELFFBQVE7b0JBQ3pCVSxVQUFVVCxPQUFPUyxRQUFRO29CQUN6QkksYUFBYSxDQUFDLG1CQUFtQixFQUFFQyxtQkFBbUJkLE9BQU9ELFFBQVEsR0FBRztnQkFDMUU7WUFFRixFQUFFLE9BQU90QixPQUFPO2dCQUNkLG1DQUFtQztnQkFDbkMsTUFBTVYsdUNBQUVBLENBQUNZLGFBQWEsQ0FBQ3VCLE1BQU0sQ0FBQztvQkFDNUJWLE9BQU87d0JBQUVDLElBQUlkLGNBQWNjLEVBQUU7b0JBQUM7b0JBQzlCWixNQUFNO3dCQUNKSCxRQUFRO3dCQUNSRCxPQUFPQSxpQkFBaUJrQixRQUFRbEIsTUFBTXNDLE9BQU8sR0FBRzt3QkFDaERWLGFBQWEsSUFBSUM7b0JBQ25CO2dCQUNGO2dCQUVBLE1BQU03QjtZQUNSO1FBRUYsRUFBRSxPQUFPQSxPQUFPO1lBQ2R1QyxRQUFRdkMsS0FBSyxDQUFDLG9CQUFvQkE7WUFDbEMsT0FBT1oscURBQVlBLENBQUNRLElBQUksQ0FDdEI7Z0JBQUVJLE9BQU87WUFBdUIsR0FDaEM7Z0JBQUVDLFFBQVE7WUFBSTtRQUVsQjtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9mMmkxL0RvY3VtZW50cy9HaXRIdWIvd29ya3NwYWNlLUVhc3lQREYxL3NyYy9hcHAvYXBpL3BkZi9tZXJnZS9yb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5pbXBvcnQgeyBwZGZQcm9jZXNzb3IgfSBmcm9tICdAL2xpYi9wZGYtdXRpbHMnXG5pbXBvcnQgeyBkYiwgd2l0aERiIH0gZnJvbSAnQC9saWIvZGInXG5pbXBvcnQgeyBQREZGaWxlLCBQcm9jZXNzaW5nSm9iLCBQcm9jZXNzaW5nSGlzdG9yeSB9IGZyb20gJ0BwcmlzbWEvY2xpZW50J1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICByZXR1cm4gYXdhaXQgd2l0aERiKGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBmaWxlSWRzLCBvcHRpb25zID0ge30gfSA9IGF3YWl0IHJlcXVlc3QuanNvbigpXG4gICAgICBcbiAgICAgIGlmICghZmlsZUlkcyB8fCAhQXJyYXkuaXNBcnJheShmaWxlSWRzKSB8fCBmaWxlSWRzLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICAgIHsgZXJyb3I6ICdBdCBsZWFzdCAyIGZpbGVzIGFyZSByZXF1aXJlZCBmb3IgbWVyZ2luZycgfSxcbiAgICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICAgKVxuICAgICAgfVxuXG4gICAgICAvLyBDcmVhdGUgcHJvY2Vzc2luZyBqb2JcbiAgICAgIGNvbnN0IHByb2Nlc3NpbmdKb2IgPSBhd2FpdCBkYi5wcm9jZXNzaW5nSm9iLmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBmaWxlSWRzOiBKU09OLnN0cmluZ2lmeShmaWxlSWRzKSxcbiAgICAgICAgICBvcGVyYXRpb246ICdtZXJnZScsXG4gICAgICAgICAgc3RhdHVzOiAncHJvY2Vzc2luZycsXG4gICAgICAgICAgcGFyYW1ldGVyczogSlNPTi5zdHJpbmdpZnkob3B0aW9ucyksXG4gICAgICAgICAgdXNlcklkOiByZXF1ZXN0LmhlYWRlcnMuZ2V0KCd1c2VyLWlkJykgfHwgbnVsbFxuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICB0cnkge1xuICAgICAgICAvLyBHZXQgZmlsZSBwYXRocyBmcm9tIGRhdGFiYXNlXG4gICAgICAgIGNvbnN0IGZpbGVzID0gYXdhaXQgZGIucERGRmlsZS5maW5kTWFueSh7XG4gICAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICAgIGlkOiB7XG4gICAgICAgICAgICAgIGluOiBmaWxlSWRzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIGlmIChmaWxlcy5sZW5ndGggIT09IGZpbGVJZHMubGVuZ3RoKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTb21lIGZpbGVzIG5vdCBmb3VuZCcpXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmaWxlUGF0aHMgPSBmaWxlcy5tYXAoZmlsZSA9PiBmaWxlLmZpbGVQYXRoKVxuICAgICAgICBcbiAgICAgICAgLy8gUHJvY2VzcyBQREYgbWVyZ2VcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcGRmUHJvY2Vzc29yLm1lcmdlUERGcyhmaWxlUGF0aHMsIG9wdGlvbnMpXG5cbiAgICAgICAgLy8gVXBkYXRlIHByb2Nlc3Npbmcgam9iXG4gICAgICAgIGF3YWl0IGRiLnByb2Nlc3NpbmdKb2IudXBkYXRlKHtcbiAgICAgICAgICB3aGVyZTogeyBpZDogcHJvY2Vzc2luZ0pvYi5pZCB9LFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHN0YXR1czogcmVzdWx0LnN1Y2Nlc3MgPyAnY29tcGxldGVkJyA6ICdmYWlsZWQnLFxuICAgICAgICAgICAgcHJvZ3Jlc3M6IDEwMCxcbiAgICAgICAgICAgIGVycm9yOiByZXN1bHQuZXJyb3IsXG4gICAgICAgICAgICBjb21wbGV0ZWRBdDogbmV3IERhdGUoKVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICAvLyBDcmVhdGUgcHJvY2Vzc2luZyBoaXN0b3J5XG4gICAgICAgIGF3YWl0IGRiLnByb2Nlc3NpbmdIaXN0b3J5LmNyZWF0ZSh7XG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgdXNlcklkOiByZXF1ZXN0LmhlYWRlcnMuZ2V0KCd1c2VyLWlkJykgfHwgbnVsbCxcbiAgICAgICAgICAgIGpvYklkOiBwcm9jZXNzaW5nSm9iLmlkLFxuICAgICAgICAgICAgb3BlcmF0aW9uOiAnbWVyZ2UnLFxuICAgICAgICAgICAgc3RhdHVzOiByZXN1bHQuc3VjY2VzcyA/ICdjb21wbGV0ZWQnIDogJ2ZhaWxlZCcsXG4gICAgICAgICAgICBwYXJhbWV0ZXJzOiBKU09OLnN0cmluZ2lmeShvcHRpb25zKSxcbiAgICAgICAgICAgIHJlc3VsdDogcmVzdWx0LnN1Y2Nlc3MgPyBKU09OLnN0cmluZ2lmeSh7IGZpbGVQYXRoOiByZXN1bHQuZmlsZVBhdGgsIGZpbGVTaXplOiByZXN1bHQuZmlsZVNpemUgfSkgOiBudWxsLFxuICAgICAgICAgICAgZXJyb3I6IHJlc3VsdC5lcnJvcixcbiAgICAgICAgICAgIGlwQWRkcmVzczogcmVxdWVzdC5oZWFkZXJzLmdldCgneC1mb3J3YXJkZWQtZm9yJykgfHwgcmVxdWVzdC5pcCB8fCBudWxsLFxuICAgICAgICAgICAgdXNlckFnZW50OiByZXF1ZXN0LmhlYWRlcnMuZ2V0KCd1c2VyLWFnZW50JykgfHwgbnVsbFxuICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICAgICAgeyBlcnJvcjogcmVzdWx0LmVycm9yIH0sXG4gICAgICAgICAgICB7IHN0YXR1czogNTAwIH1cbiAgICAgICAgICApXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgam9iSWQ6IHByb2Nlc3NpbmdKb2IuaWQsXG4gICAgICAgICAgZmlsZVBhdGg6IHJlc3VsdC5maWxlUGF0aCxcbiAgICAgICAgICBmaWxlU2l6ZTogcmVzdWx0LmZpbGVTaXplLFxuICAgICAgICAgIGRvd25sb2FkVXJsOiBgL2FwaS9kb3dubG9hZD9wYXRoPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHJlc3VsdC5maWxlUGF0aCl9YFxuICAgICAgICB9KVxuXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBVcGRhdGUgcHJvY2Vzc2luZyBqb2Igd2l0aCBlcnJvclxuICAgICAgICBhd2FpdCBkYi5wcm9jZXNzaW5nSm9iLnVwZGF0ZSh7XG4gICAgICAgICAgd2hlcmU6IHsgaWQ6IHByb2Nlc3NpbmdKb2IuaWQgfSxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBzdGF0dXM6ICdmYWlsZWQnLFxuICAgICAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InLFxuICAgICAgICAgICAgY29tcGxldGVkQXQ6IG5ldyBEYXRlKClcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhyb3cgZXJyb3JcbiAgICAgIH1cblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdNZXJnZSBQREYgZXJyb3I6JywgZXJyb3IpXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdGYWlsZWQgdG8gbWVyZ2UgUERGcycgfSxcbiAgICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgICApXG4gICAgfVxuICB9KVxufSJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJwZGZQcm9jZXNzb3IiLCJkYiIsIndpdGhEYiIsIlBPU1QiLCJyZXF1ZXN0IiwiZmlsZUlkcyIsIm9wdGlvbnMiLCJqc29uIiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwiZXJyb3IiLCJzdGF0dXMiLCJwcm9jZXNzaW5nSm9iIiwiY3JlYXRlIiwiZGF0YSIsIkpTT04iLCJzdHJpbmdpZnkiLCJvcGVyYXRpb24iLCJwYXJhbWV0ZXJzIiwidXNlcklkIiwiaGVhZGVycyIsImdldCIsImZpbGVzIiwicERGRmlsZSIsImZpbmRNYW55Iiwid2hlcmUiLCJpZCIsImluIiwiRXJyb3IiLCJmaWxlUGF0aHMiLCJtYXAiLCJmaWxlIiwiZmlsZVBhdGgiLCJyZXN1bHQiLCJtZXJnZVBERnMiLCJ1cGRhdGUiLCJzdWNjZXNzIiwicHJvZ3Jlc3MiLCJjb21wbGV0ZWRBdCIsIkRhdGUiLCJwcm9jZXNzaW5nSGlzdG9yeSIsImpvYklkIiwiZmlsZVNpemUiLCJpcEFkZHJlc3MiLCJpcCIsInVzZXJBZ2VudCIsImRvd25sb2FkVXJsIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwibWVzc2FnZSIsImNvbnNvbGUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/pdf/merge/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/db.ts":
/*!***********************!*\
  !*** ./src/lib/db.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   db: () => (/* binding */ db),\n/* harmony export */   withDb: () => (/* binding */ withDb)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nconst globalForPrisma = globalThis;\n// Ensure database directory exists synchronously\nfunction ensureDbDirSync() {\n    const dbPath = process.env.DATABASE_URL?.replace('file:', '') || '/tmp/custom.db';\n    const dbDir = path__WEBPACK_IMPORTED_MODULE_2___default().dirname(dbPath);\n    // Try to create directory synchronously\n    try {\n        if (!(0,fs__WEBPACK_IMPORTED_MODULE_1__.existsSync)(dbDir)) {\n            (0,fs__WEBPACK_IMPORTED_MODULE_1__.mkdirSync)(dbDir, {\n                recursive: true\n            });\n            console.log('Database directory created:', dbDir);\n        } else {\n            console.log('Database directory exists:', dbDir);\n        }\n    } catch (error) {\n        console.error('Error creating database directory:', error);\n        // Fallback to /tmp directory\n        const fallbackDir = '/tmp';\n        if (!(0,fs__WEBPACK_IMPORTED_MODULE_1__.existsSync)(fallbackDir)) {\n            (0,fs__WEBPACK_IMPORTED_MODULE_1__.mkdirSync)(fallbackDir, {\n                recursive: true\n            });\n        }\n        console.log('Using fallback database directory:', fallbackDir);\n    }\n}\n// Ensure database directory exists before creating client\nensureDbDirSync();\nconst db = globalForPrisma.prisma ?? new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient({\n    log: [\n        'query'\n    ],\n    datasources: {\n        db: {\n            url: process.env.DATABASE_URL || 'file:/tmp/custom.db'\n        }\n    }\n});\nif (true) globalForPrisma.prisma = db;\n// Wrapper function to ensure database is connected before operations\nasync function withDb(operation) {\n    try {\n        // Ensure database is connected\n        await db.$connect();\n        console.log('Database connected for operation');\n        return await operation();\n    } catch (error) {\n        console.error('Database operation error:', error);\n        // Try to reconnect and retry operation once\n        try {\n            console.log('Attempting to reconnect to database...');\n            await db.$disconnect();\n            await db.$connect();\n            console.log('Database reconnected, retrying operation...');\n            return await operation();\n        } catch (retryError) {\n            console.error('Database retry failed:', retryError);\n            throw new Error(`Database operation failed: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n    }\n}\n// Initialize database connection\nasync function initializeDatabase() {\n    try {\n        await db.$connect();\n        console.log('Database connected successfully');\n    } catch (error) {\n        console.error('Database connection error:', error);\n        // Try to reconnect with fallback URL\n        try {\n            const fallbackDb = new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient({\n                log: [\n                    'query'\n                ],\n                datasources: {\n                    db: {\n                        url: 'file:/tmp/custom.db'\n                    }\n                }\n            });\n            await fallbackDb.$connect();\n            console.log('Database connected with fallback URL');\n            return fallbackDb;\n        } catch (fallbackError) {\n            console.error('Fallback database connection failed:', fallbackError);\n            throw error;\n        }\n    }\n}\n// Initialize database on module load\ninitializeDatabase().catch(console.error);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Yi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tICdAcHJpc21hL2NsaWVudCdcbmltcG9ydCB7IG1rZGlyU3luYywgZXhpc3RzU3luYyB9IGZyb20gJ2ZzJ1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcblxuY29uc3QgZ2xvYmFsRm9yUHJpc21hID0gZ2xvYmFsVGhpcyBhcyB1bmtub3duIGFzIHtcbiAgcHJpc21hOiBQcmlzbWFDbGllbnQgfCB1bmRlZmluZWRcbn1cblxuLy8gRW5zdXJlIGRhdGFiYXNlIGRpcmVjdG9yeSBleGlzdHMgc3luY2hyb25vdXNseVxuZnVuY3Rpb24gZW5zdXJlRGJEaXJTeW5jKCkge1xuICBjb25zdCBkYlBhdGggPSBwcm9jZXNzLmVudi5EQVRBQkFTRV9VUkw/LnJlcGxhY2UoJ2ZpbGU6JywgJycpIHx8ICcvdG1wL2N1c3RvbS5kYidcbiAgY29uc3QgZGJEaXIgPSBwYXRoLmRpcm5hbWUoZGJQYXRoKVxuICBcbiAgLy8gVHJ5IHRvIGNyZWF0ZSBkaXJlY3Rvcnkgc3luY2hyb25vdXNseVxuICB0cnkge1xuICAgIGlmICghZXhpc3RzU3luYyhkYkRpcikpIHtcbiAgICAgIG1rZGlyU3luYyhkYkRpciwgeyByZWN1cnNpdmU6IHRydWUgfSlcbiAgICAgIGNvbnNvbGUubG9nKCdEYXRhYmFzZSBkaXJlY3RvcnkgY3JlYXRlZDonLCBkYkRpcilcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coJ0RhdGFiYXNlIGRpcmVjdG9yeSBleGlzdHM6JywgZGJEaXIpXG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIGRhdGFiYXNlIGRpcmVjdG9yeTonLCBlcnJvcilcbiAgICAvLyBGYWxsYmFjayB0byAvdG1wIGRpcmVjdG9yeVxuICAgIGNvbnN0IGZhbGxiYWNrRGlyID0gJy90bXAnXG4gICAgaWYgKCFleGlzdHNTeW5jKGZhbGxiYWNrRGlyKSkge1xuICAgICAgbWtkaXJTeW5jKGZhbGxiYWNrRGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KVxuICAgIH1cbiAgICBjb25zb2xlLmxvZygnVXNpbmcgZmFsbGJhY2sgZGF0YWJhc2UgZGlyZWN0b3J5OicsIGZhbGxiYWNrRGlyKVxuICB9XG59XG5cbi8vIEVuc3VyZSBkYXRhYmFzZSBkaXJlY3RvcnkgZXhpc3RzIGJlZm9yZSBjcmVhdGluZyBjbGllbnRcbmVuc3VyZURiRGlyU3luYygpXG5cbmV4cG9ydCBjb25zdCBkYiA9XG4gIGdsb2JhbEZvclByaXNtYS5wcmlzbWEgPz9cbiAgbmV3IFByaXNtYUNsaWVudCh7XG4gICAgbG9nOiBbJ3F1ZXJ5J10sXG4gICAgZGF0YXNvdXJjZXM6IHtcbiAgICAgIGRiOiB7XG4gICAgICAgIHVybDogcHJvY2Vzcy5lbnYuREFUQUJBU0VfVVJMIHx8ICdmaWxlOi90bXAvY3VzdG9tLmRiJ1xuICAgICAgfVxuICAgIH1cbiAgfSlcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIGdsb2JhbEZvclByaXNtYS5wcmlzbWEgPSBkYlxuXG4vLyBXcmFwcGVyIGZ1bmN0aW9uIHRvIGVuc3VyZSBkYXRhYmFzZSBpcyBjb25uZWN0ZWQgYmVmb3JlIG9wZXJhdGlvbnNcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB3aXRoRGI8VD4ob3BlcmF0aW9uOiAoKSA9PiBQcm9taXNlPFQ+KTogUHJvbWlzZTxUPiB7XG4gIHRyeSB7XG4gICAgLy8gRW5zdXJlIGRhdGFiYXNlIGlzIGNvbm5lY3RlZFxuICAgIGF3YWl0IGRiLiRjb25uZWN0KClcbiAgICBjb25zb2xlLmxvZygnRGF0YWJhc2UgY29ubmVjdGVkIGZvciBvcGVyYXRpb24nKVxuICAgIHJldHVybiBhd2FpdCBvcGVyYXRpb24oKVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0RhdGFiYXNlIG9wZXJhdGlvbiBlcnJvcjonLCBlcnJvcilcbiAgICBcbiAgICAvLyBUcnkgdG8gcmVjb25uZWN0IGFuZCByZXRyeSBvcGVyYXRpb24gb25jZVxuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygnQXR0ZW1wdGluZyB0byByZWNvbm5lY3QgdG8gZGF0YWJhc2UuLi4nKVxuICAgICAgYXdhaXQgZGIuJGRpc2Nvbm5lY3QoKVxuICAgICAgYXdhaXQgZGIuJGNvbm5lY3QoKVxuICAgICAgY29uc29sZS5sb2coJ0RhdGFiYXNlIHJlY29ubmVjdGVkLCByZXRyeWluZyBvcGVyYXRpb24uLi4nKVxuICAgICAgcmV0dXJuIGF3YWl0IG9wZXJhdGlvbigpXG4gICAgfSBjYXRjaCAocmV0cnlFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRGF0YWJhc2UgcmV0cnkgZmFpbGVkOicsIHJldHJ5RXJyb3IpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYERhdGFiYXNlIG9wZXJhdGlvbiBmYWlsZWQ6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YClcbiAgICB9XG4gIH1cbn1cblxuLy8gSW5pdGlhbGl6ZSBkYXRhYmFzZSBjb25uZWN0aW9uXG5hc3luYyBmdW5jdGlvbiBpbml0aWFsaXplRGF0YWJhc2UoKSB7XG4gIHRyeSB7XG4gICAgYXdhaXQgZGIuJGNvbm5lY3QoKVxuICAgIGNvbnNvbGUubG9nKCdEYXRhYmFzZSBjb25uZWN0ZWQgc3VjY2Vzc2Z1bGx5JylcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdEYXRhYmFzZSBjb25uZWN0aW9uIGVycm9yOicsIGVycm9yKVxuICAgIC8vIFRyeSB0byByZWNvbm5lY3Qgd2l0aCBmYWxsYmFjayBVUkxcbiAgICB0cnkge1xuICAgICAgY29uc3QgZmFsbGJhY2tEYiA9IG5ldyBQcmlzbWFDbGllbnQoe1xuICAgICAgICBsb2c6IFsncXVlcnknXSxcbiAgICAgICAgZGF0YXNvdXJjZXM6IHtcbiAgICAgICAgICBkYjoge1xuICAgICAgICAgICAgdXJsOiAnZmlsZTovdG1wL2N1c3RvbS5kYidcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICBhd2FpdCBmYWxsYmFja0RiLiRjb25uZWN0KClcbiAgICAgIGNvbnNvbGUubG9nKCdEYXRhYmFzZSBjb25uZWN0ZWQgd2l0aCBmYWxsYmFjayBVUkwnKVxuICAgICAgcmV0dXJuIGZhbGxiYWNrRGJcbiAgICB9IGNhdGNoIChmYWxsYmFja0Vycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWxsYmFjayBkYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZDonLCBmYWxsYmFja0Vycm9yKVxuICAgICAgdGhyb3cgZXJyb3JcbiAgICB9XG4gIH1cbn1cblxuLy8gSW5pdGlhbGl6ZSBkYXRhYmFzZSBvbiBtb2R1bGUgbG9hZFxuaW5pdGlhbGl6ZURhdGFiYXNlKCkuY2F0Y2goY29uc29sZS5lcnJvcikiXSwibmFtZXMiOlsiUHJpc21hQ2xpZW50IiwibWtkaXJTeW5jIiwiZXhpc3RzU3luYyIsInBhdGgiLCJnbG9iYWxGb3JQcmlzbWEiLCJnbG9iYWxUaGlzIiwiZW5zdXJlRGJEaXJTeW5jIiwiZGJQYXRoIiwicHJvY2VzcyIsImVudiIsIkRBVEFCQVNFX1VSTCIsInJlcGxhY2UiLCJkYkRpciIsImRpcm5hbWUiLCJyZWN1cnNpdmUiLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJmYWxsYmFja0RpciIsImRiIiwicHJpc21hIiwiZGF0YXNvdXJjZXMiLCJ1cmwiLCJ3aXRoRGIiLCJvcGVyYXRpb24iLCIkY29ubmVjdCIsIiRkaXNjb25uZWN0IiwicmV0cnlFcnJvciIsIkVycm9yIiwibWVzc2FnZSIsImluaXRpYWxpemVEYXRhYmFzZSIsImZhbGxiYWNrRGIiLCJmYWxsYmFja0Vycm9yIiwiY2F0Y2giXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/db.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/pdf-utils.ts":
/*!******************************!*\
  !*** ./src/lib/pdf-utils.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   pdfProcessor: () => (/* binding */ pdfProcessor)\n/* harmony export */ });\n/* harmony import */ var pdf_lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pdf-lib */ \"(rsc)/./node_modules/pdf-lib/es/index.js\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! uuid */ \"(rsc)/./node_modules/uuid/dist/esm/v4.js\");\n\n\n\n\nclass PDFProcessor {\n    constructor(){\n        // Use temporary directories for serverless environment\n        this.uploadDir = path__WEBPACK_IMPORTED_MODULE_2__.join('/tmp', 'uploads');\n        this.outputDir = path__WEBPACK_IMPORTED_MODULE_2__.join('/tmp', 'outputs');\n        // Ensure directories exist\n        if (!fs__WEBPACK_IMPORTED_MODULE_1__.existsSync(this.uploadDir)) {\n            fs__WEBPACK_IMPORTED_MODULE_1__.mkdirSync(this.uploadDir, {\n                recursive: true\n            });\n        }\n        if (!fs__WEBPACK_IMPORTED_MODULE_1__.existsSync(this.outputDir)) {\n            fs__WEBPACK_IMPORTED_MODULE_1__.mkdirSync(this.outputDir, {\n                recursive: true\n            });\n        }\n    }\n    async mergePDFs(filePaths, options = {}) {\n        try {\n            const mergedPdf = await pdf_lib__WEBPACK_IMPORTED_MODULE_0__.PDFDocument.create();\n            for (const filePath of filePaths){\n                const pdfBytes = fs__WEBPACK_IMPORTED_MODULE_1__.readFileSync(filePath);\n                const pdf = await pdf_lib__WEBPACK_IMPORTED_MODULE_0__.PDFDocument.load(pdfBytes);\n                const pages = await mergedPdf.copyPages(pdf, pdf.getPageIndices());\n                pages.forEach((page)=>mergedPdf.addPage(page));\n            }\n            const outputFileName = options.outputFileName || `merged_${(0,uuid__WEBPACK_IMPORTED_MODULE_3__[\"default\"])()}.pdf`;\n            const outputPath = path__WEBPACK_IMPORTED_MODULE_2__.join(this.outputDir, outputFileName);\n            const mergedPdfBytes = await mergedPdf.save();\n            fs__WEBPACK_IMPORTED_MODULE_1__.writeFileSync(outputPath, mergedPdfBytes);\n            return {\n                success: true,\n                filePath: outputPath,\n                fileSize: mergedPdfBytes.length\n            };\n        } catch (error) {\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : 'Failed to merge PDFs'\n            };\n        }\n    }\n    async splitPDF(filePath, options) {\n        try {\n            const pdfBytes = fs__WEBPACK_IMPORTED_MODULE_1__.readFileSync(filePath);\n            const pdf = await pdf_lib__WEBPACK_IMPORTED_MODULE_0__.PDFDocument.load(pdfBytes);\n            const results = [];\n            for(let i = 0; i < options.pageRanges.length; i++){\n                const range = options.pageRanges[i];\n                const newPdf = await pdf_lib__WEBPACK_IMPORTED_MODULE_0__.PDFDocument.create();\n                for (const pageNum of range){\n                    if (pageNum > 0 && pageNum <= pdf.getPageCount()) {\n                        const [page] = await newPdf.copyPages(pdf, [\n                            pageNum - 1\n                        ]);\n                        newPdf.addPage(page);\n                    }\n                }\n                const outputFileName = options.outputFileName ? options.outputFileName.replace(/\\.(pdf)$/i, `_${i + 1}.pdf`) : `split_${(0,uuid__WEBPACK_IMPORTED_MODULE_3__[\"default\"])()}_${i + 1}.pdf`;\n                const outputPath = path__WEBPACK_IMPORTED_MODULE_2__.join(this.outputDir, outputFileName);\n                const newPdfBytes = await newPdf.save();\n                fs__WEBPACK_IMPORTED_MODULE_1__.writeFileSync(outputPath, newPdfBytes);\n                results.push(outputPath);\n            }\n            return {\n                success: true,\n                filePath: results[0],\n                fileSize: fs__WEBPACK_IMPORTED_MODULE_1__.statSync(results[0]).size\n            };\n        } catch (error) {\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : 'Failed to split PDF'\n            };\n        }\n    }\n    async compressPDF(filePath, options = {}) {\n        try {\n            const pdfBytes = fs__WEBPACK_IMPORTED_MODULE_1__.readFileSync(filePath);\n            const pdf = await pdf_lib__WEBPACK_IMPORTED_MODULE_0__.PDFDocument.load(pdfBytes);\n            // Basic compression - remove unused objects and optimize\n            const outputFileName = options.outputFileName || `compressed_${(0,uuid__WEBPACK_IMPORTED_MODULE_3__[\"default\"])()}.pdf`;\n            const outputPath = path__WEBPACK_IMPORTED_MODULE_2__.join(this.outputDir, outputFileName);\n            // Save with compression options\n            const pdfBytesCompressed = await pdf.save({\n                useObjectStreams: true,\n                addDefaultPage: false,\n                preservePdfA: false\n            });\n            fs__WEBPACK_IMPORTED_MODULE_1__.writeFileSync(outputPath, pdfBytesCompressed);\n            return {\n                success: true,\n                filePath: outputPath,\n                fileSize: pdfBytesCompressed.length\n            };\n        } catch (error) {\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : 'Failed to compress PDF'\n            };\n        }\n    }\n    async rotatePDF(filePath, options) {\n        try {\n            const pdfBytes = fs__WEBPACK_IMPORTED_MODULE_1__.readFileSync(filePath);\n            const pdf = await pdf_lib__WEBPACK_IMPORTED_MODULE_0__.PDFDocument.load(pdfBytes);\n            const pages = pdf.getPages();\n            const pagesToRotate = options.pages === 'all' ? pages : options.pages?.map((i)=>pages[i - 1]).filter(Boolean) || [];\n            pagesToRotate.forEach((page)=>{\n                page.setRotation(page.getRotation() + options.rotation * Math.PI / 180);\n            });\n            const outputFileName = options.outputFileName || `rotated_${(0,uuid__WEBPACK_IMPORTED_MODULE_3__[\"default\"])()}.pdf`;\n            const outputPath = path__WEBPACK_IMPORTED_MODULE_2__.join(this.outputDir, outputFileName);\n            const rotatedPdfBytes = await pdf.save();\n            fs__WEBPACK_IMPORTED_MODULE_1__.writeFileSync(outputPath, rotatedPdfBytes);\n            return {\n                success: true,\n                filePath: outputPath,\n                fileSize: rotatedPdfBytes.length\n            };\n        } catch (error) {\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : 'Failed to rotate PDF'\n            };\n        }\n    }\n    async addWatermark(filePath, options) {\n        try {\n            const pdfBytes = fs__WEBPACK_IMPORTED_MODULE_1__.readFileSync(filePath);\n            const pdf = await pdf_lib__WEBPACK_IMPORTED_MODULE_0__.PDFDocument.load(pdfBytes);\n            const pages = pdf.getPages();\n            const font = await pdf.embedFont(pdf_lib__WEBPACK_IMPORTED_MODULE_0__.StandardFonts.Helvetica);\n            const fontSize = options.fontSize || 24;\n            const opacity = options.opacity || 0.3;\n            const color = options.color || '#000000';\n            // Parse color (simple hex to RGB conversion)\n            const r = parseInt(color.slice(1, 3), 16) / 255;\n            const g = parseInt(color.slice(3, 5), 16) / 255;\n            const b = parseInt(color.slice(5, 7), 16) / 255;\n            for (const page of pages){\n                const { width, height } = page.getSize();\n                let x = width / 2;\n                let y = height / 2;\n                // Adjust position based on options\n                switch(options.position){\n                    case 'top-left':\n                        x = 50;\n                        y = height - 50;\n                        break;\n                    case 'top-right':\n                        x = width - 50;\n                        y = height - 50;\n                        break;\n                    case 'bottom-left':\n                        x = 50;\n                        y = 50;\n                        break;\n                    case 'bottom-right':\n                        x = width - 50;\n                        y = 50;\n                        break;\n                    default:\n                        break;\n                }\n                page.drawText(options.text, {\n                    x: x - options.text.length * fontSize * 0.3 / 2,\n                    y: y - fontSize / 2,\n                    size: fontSize,\n                    font: font,\n                    color: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_0__.rgb)(r, g, b),\n                    opacity: opacity\n                });\n            }\n            const outputFileName = options.outputFileName || `watermarked_${(0,uuid__WEBPACK_IMPORTED_MODULE_3__[\"default\"])()}.pdf`;\n            const outputPath = path__WEBPACK_IMPORTED_MODULE_2__.join(this.outputDir, outputFileName);\n            const watermarkedPdfBytes = await pdf.save();\n            fs__WEBPACK_IMPORTED_MODULE_1__.writeFileSync(outputPath, watermarkedPdfBytes);\n            return {\n                success: true,\n                filePath: outputPath,\n                fileSize: watermarkedPdfBytes.length\n            };\n        } catch (error) {\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : 'Failed to add watermark'\n            };\n        }\n    }\n    async unlockPDF(filePath, options = {}) {\n        try {\n            const pdfBytes = fs__WEBPACK_IMPORTED_MODULE_1__.readFileSync(filePath);\n            // For basic password removal, we just create a new PDF without encryption\n            // Note: This is a simplified version. Real password removal would require the password\n            const pdf = await pdf_lib__WEBPACK_IMPORTED_MODULE_0__.PDFDocument.load(pdfBytes, {\n                ignoreEncryption: true\n            });\n            const outputFileName = options.outputFileName || `unlocked_${(0,uuid__WEBPACK_IMPORTED_MODULE_3__[\"default\"])()}.pdf`;\n            const outputPath = path__WEBPACK_IMPORTED_MODULE_2__.join(this.outputDir, outputFileName);\n            const unlockedPdfBytes = await pdf.save();\n            fs__WEBPACK_IMPORTED_MODULE_1__.writeFileSync(outputPath, unlockedPdfBytes);\n            return {\n                success: true,\n                filePath: outputPath,\n                fileSize: unlockedPdfBytes.length\n            };\n        } catch (error) {\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : 'Failed to unlock PDF'\n            };\n        }\n    }\n    async convertPDF(filePath, options) {\n        try {\n            // This is a placeholder for PDF conversion\n            // In a real implementation, you would use libraries like pdf2pic for image conversion\n            // or specialized libraries for Word/text conversion\n            const outputFileName = options.outputFileName || `converted_${(0,uuid__WEBPACK_IMPORTED_MODULE_3__[\"default\"])()}.${options.format}`;\n            const outputPath = path__WEBPACK_IMPORTED_MODULE_2__.join(this.outputDir, outputFileName);\n            // For now, just copy the file as a placeholder\n            fs__WEBPACK_IMPORTED_MODULE_1__.copyFileSync(filePath, outputPath);\n            return {\n                success: true,\n                filePath: outputPath,\n                fileSize: fs__WEBPACK_IMPORTED_MODULE_1__.statSync(outputPath).size\n            };\n        } catch (error) {\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : 'Failed to convert PDF'\n            };\n        }\n    }\n    // Utility method to clean up old files\n    cleanupOldFiles(maxAge = 3600000) {\n        const now = Date.now()[this.uploadDir, this.outputDir].forEach((dir)=>{\n            if (fs__WEBPACK_IMPORTED_MODULE_1__.existsSync(dir)) {\n                const files = fs__WEBPACK_IMPORTED_MODULE_1__.readdirSync(dir);\n                files.forEach((file)=>{\n                    const filePath = path__WEBPACK_IMPORTED_MODULE_2__.join(dir, file);\n                    const stats = fs__WEBPACK_IMPORTED_MODULE_1__.statSync(filePath);\n                    if (now - stats.mtime.getTime() > maxAge) {\n                        fs__WEBPACK_IMPORTED_MODULE_1__.unlinkSync(filePath);\n                    }\n                });\n            }\n        });\n    }\n}\nconst pdfProcessor = new PDFProcessor();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWMsQ0FBQ29HO2dCQUM3QkMsTUFBTTVFLE9BQU8sQ0FBQzhFLENBQUFBO29CQUNaLE1BQU10RixXQUFXaEIsc0NBQVMsQ0FBQ21HLEtBQUtHO29CQUNoQyxNQUFNQyxRQUFReEcsd0NBQVcsQ0FBQ2lCO29CQUUxQixJQUFJaUYsTUFBTU0sTUFBTUMsS0FBSyxDQUFDQyxPQUFPLEtBQUtULFFBQVE7d0JBQ3hDakcsMENBQWEsQ0FBQ2lCO29CQUNoQjtnQkFDRjtZQUNGO1FBQ0Y7SUFDRjtBQUNGO0FBRU8sTUFBTTJGLGVBQWUsSUFBSXhHLGVBQWMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9mMmkxL0RvY3VtZW50cy9HaXRIdWIvd29ya3NwYWNlLUVhc3lQREYxL3NyYy9saWIvcGRmLXV0aWxzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBERkRvY3VtZW50LCBQREZQYWdlLCByZ2IsIFN0YW5kYXJkRm9udHMgfSBmcm9tICdwZGYtbGliJ1xuaW1wb3J0ICogYXMgZnMgZnJvbSAnZnMnXG5pbXBvcnQgKiBhcyBwYXRoIGZyb20gJ3BhdGgnXG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJ1xuXG5leHBvcnQgaW50ZXJmYWNlIFBERk9wZXJhdGlvblJlc3VsdCB7XG4gIHN1Y2Nlc3M6IGJvb2xlYW5cbiAgZmlsZVBhdGg/OiBzdHJpbmdcbiAgZXJyb3I/OiBzdHJpbmdcbiAgZmlsZVNpemU/OiBudW1iZXJcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNZXJnZU9wdGlvbnMge1xuICBvdXRwdXRGaWxlTmFtZT86IHN0cmluZ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNwbGl0T3B0aW9ucyB7XG4gIHBhZ2VSYW5nZXM6IG51bWJlcltdW11cbiAgb3V0cHV0RmlsZU5hbWU/OiBzdHJpbmdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb21wcmVzc09wdGlvbnMge1xuICBxdWFsaXR5PzogJ2xvdycgfCAnbWVkaXVtJyB8ICdoaWdoJ1xuICBvdXRwdXRGaWxlTmFtZT86IHN0cmluZ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJvdGF0ZU9wdGlvbnMge1xuICByb3RhdGlvbjogOTAgfCAxODAgfCAyNzBcbiAgcGFnZXM/OiAnYWxsJyB8IG51bWJlcltdXG4gIG91dHB1dEZpbGVOYW1lPzogc3RyaW5nXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgV2F0ZXJtYXJrT3B0aW9ucyB7XG4gIHRleHQ6IHN0cmluZ1xuICBvcGFjaXR5PzogbnVtYmVyXG4gIGZvbnRTaXplPzogbnVtYmVyXG4gIGNvbG9yPzogc3RyaW5nXG4gIHBvc2l0aW9uPzogJ2NlbnRlcicgfCAndG9wLWxlZnQnIHwgJ3RvcC1yaWdodCcgfCAnYm90dG9tLWxlZnQnIHwgJ2JvdHRvbS1yaWdodCdcbiAgb3V0cHV0RmlsZU5hbWU/OiBzdHJpbmdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVbmxvY2tPcHRpb25zIHtcbiAgcGFzc3dvcmQ/OiBzdHJpbmdcbiAgb3V0cHV0RmlsZU5hbWU/OiBzdHJpbmdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb252ZXJ0T3B0aW9ucyB7XG4gIGZvcm1hdDogJ2pwZycgfCAncG5nJyB8ICdkb2N4JyB8ICd0eHQnXG4gIHF1YWxpdHk/OiBudW1iZXJcbiAgb3V0cHV0RmlsZU5hbWU/OiBzdHJpbmdcbn1cblxuY2xhc3MgUERGUHJvY2Vzc29yIHtcbiAgcHJpdmF0ZSB1cGxvYWREaXI6IHN0cmluZ1xuICBwcml2YXRlIG91dHB1dERpcjogc3RyaW5nXG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLy8gVXNlIHRlbXBvcmFyeSBkaXJlY3RvcmllcyBmb3Igc2VydmVybGVzcyBlbnZpcm9ubWVudFxuICAgIHRoaXMudXBsb2FkRGlyID0gcGF0aC5qb2luKCcvdG1wJywgJ3VwbG9hZHMnKVxuICAgIHRoaXMub3V0cHV0RGlyID0gcGF0aC5qb2luKCcvdG1wJywgJ291dHB1dHMnKVxuICAgIFxuICAgIC8vIEVuc3VyZSBkaXJlY3RvcmllcyBleGlzdFxuICAgIGlmICghZnMuZXhpc3RzU3luYyh0aGlzLnVwbG9hZERpcikpIHtcbiAgICAgIGZzLm1rZGlyU3luYyh0aGlzLnVwbG9hZERpciwgeyByZWN1cnNpdmU6IHRydWUgfSlcbiAgICB9XG4gICAgaWYgKCFmcy5leGlzdHNTeW5jKHRoaXMub3V0cHV0RGlyKSkge1xuICAgICAgZnMubWtkaXJTeW5jKHRoaXMub3V0cHV0RGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIG1lcmdlUERGcyhmaWxlUGF0aHM6IHN0cmluZ1tdLCBvcHRpb25zOiBNZXJnZU9wdGlvbnMgPSB7fSk6IFByb21pc2U8UERGT3BlcmF0aW9uUmVzdWx0PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG1lcmdlZFBkZiA9IGF3YWl0IFBERkRvY3VtZW50LmNyZWF0ZSgpXG4gICAgICBcbiAgICAgIGZvciAoY29uc3QgZmlsZVBhdGggb2YgZmlsZVBhdGhzKSB7XG4gICAgICAgIGNvbnN0IHBkZkJ5dGVzID0gZnMucmVhZEZpbGVTeW5jKGZpbGVQYXRoKVxuICAgICAgICBjb25zdCBwZGYgPSBhd2FpdCBQREZEb2N1bWVudC5sb2FkKHBkZkJ5dGVzKVxuICAgICAgICBjb25zdCBwYWdlcyA9IGF3YWl0IG1lcmdlZFBkZi5jb3B5UGFnZXMocGRmLCBwZGYuZ2V0UGFnZUluZGljZXMoKSlcbiAgICAgICAgcGFnZXMuZm9yRWFjaChwYWdlID0+IG1lcmdlZFBkZi5hZGRQYWdlKHBhZ2UpKVxuICAgICAgfVxuXG4gICAgICBjb25zdCBvdXRwdXRGaWxlTmFtZSA9IG9wdGlvbnMub3V0cHV0RmlsZU5hbWUgfHwgYG1lcmdlZF8ke3V1aWR2NCgpfS5wZGZgXG4gICAgICBjb25zdCBvdXRwdXRQYXRoID0gcGF0aC5qb2luKHRoaXMub3V0cHV0RGlyLCBvdXRwdXRGaWxlTmFtZSlcbiAgICAgIGNvbnN0IG1lcmdlZFBkZkJ5dGVzID0gYXdhaXQgbWVyZ2VkUGRmLnNhdmUoKVxuICAgICAgXG4gICAgICBmcy53cml0ZUZpbGVTeW5jKG91dHB1dFBhdGgsIG1lcmdlZFBkZkJ5dGVzKVxuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBmaWxlUGF0aDogb3V0cHV0UGF0aCxcbiAgICAgICAgZmlsZVNpemU6IG1lcmdlZFBkZkJ5dGVzLmxlbmd0aFxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBtZXJnZSBQREZzJ1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHNwbGl0UERGKGZpbGVQYXRoOiBzdHJpbmcsIG9wdGlvbnM6IFNwbGl0T3B0aW9ucyk6IFByb21pc2U8UERGT3BlcmF0aW9uUmVzdWx0PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHBkZkJ5dGVzID0gZnMucmVhZEZpbGVTeW5jKGZpbGVQYXRoKVxuICAgICAgY29uc3QgcGRmID0gYXdhaXQgUERGRG9jdW1lbnQubG9hZChwZGZCeXRlcylcbiAgICAgIGNvbnN0IHJlc3VsdHM6IHN0cmluZ1tdID0gW11cblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvcHRpb25zLnBhZ2VSYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSBvcHRpb25zLnBhZ2VSYW5nZXNbaV1cbiAgICAgICAgY29uc3QgbmV3UGRmID0gYXdhaXQgUERGRG9jdW1lbnQuY3JlYXRlKClcbiAgICAgICAgXG4gICAgICAgIGZvciAoY29uc3QgcGFnZU51bSBvZiByYW5nZSkge1xuICAgICAgICAgIGlmIChwYWdlTnVtID4gMCAmJiBwYWdlTnVtIDw9IHBkZi5nZXRQYWdlQ291bnQoKSkge1xuICAgICAgICAgICAgY29uc3QgW3BhZ2VdID0gYXdhaXQgbmV3UGRmLmNvcHlQYWdlcyhwZGYsIFtwYWdlTnVtIC0gMV0pXG4gICAgICAgICAgICBuZXdQZGYuYWRkUGFnZShwYWdlKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG91dHB1dEZpbGVOYW1lID0gb3B0aW9ucy5vdXRwdXRGaWxlTmFtZSBcbiAgICAgICAgICA/IG9wdGlvbnMub3V0cHV0RmlsZU5hbWUucmVwbGFjZSgvXFwuKHBkZikkL2ksIGBfJHtpICsgMX0ucGRmYClcbiAgICAgICAgICA6IGBzcGxpdF8ke3V1aWR2NCgpfV8ke2kgKyAxfS5wZGZgXG4gICAgICAgIFxuICAgICAgICBjb25zdCBvdXRwdXRQYXRoID0gcGF0aC5qb2luKHRoaXMub3V0cHV0RGlyLCBvdXRwdXRGaWxlTmFtZSlcbiAgICAgICAgY29uc3QgbmV3UGRmQnl0ZXMgPSBhd2FpdCBuZXdQZGYuc2F2ZSgpXG4gICAgICAgIFxuICAgICAgICBmcy53cml0ZUZpbGVTeW5jKG91dHB1dFBhdGgsIG5ld1BkZkJ5dGVzKVxuICAgICAgICByZXN1bHRzLnB1c2gob3V0cHV0UGF0aClcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZmlsZVBhdGg6IHJlc3VsdHNbMF0sIC8vIFJldHVybiBmaXJzdCBmaWxlIHBhdGhcbiAgICAgICAgZmlsZVNpemU6IGZzLnN0YXRTeW5jKHJlc3VsdHNbMF0pLnNpemVcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdGYWlsZWQgdG8gc3BsaXQgUERGJ1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGNvbXByZXNzUERGKGZpbGVQYXRoOiBzdHJpbmcsIG9wdGlvbnM6IENvbXByZXNzT3B0aW9ucyA9IHt9KTogUHJvbWlzZTxQREZPcGVyYXRpb25SZXN1bHQ+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcGRmQnl0ZXMgPSBmcy5yZWFkRmlsZVN5bmMoZmlsZVBhdGgpXG4gICAgICBjb25zdCBwZGYgPSBhd2FpdCBQREZEb2N1bWVudC5sb2FkKHBkZkJ5dGVzKVxuICAgICAgXG4gICAgICAvLyBCYXNpYyBjb21wcmVzc2lvbiAtIHJlbW92ZSB1bnVzZWQgb2JqZWN0cyBhbmQgb3B0aW1pemVcbiAgICAgIGNvbnN0IG91dHB1dEZpbGVOYW1lID0gb3B0aW9ucy5vdXRwdXRGaWxlTmFtZSB8fCBgY29tcHJlc3NlZF8ke3V1aWR2NCgpfS5wZGZgXG4gICAgICBjb25zdCBvdXRwdXRQYXRoID0gcGF0aC5qb2luKHRoaXMub3V0cHV0RGlyLCBvdXRwdXRGaWxlTmFtZSlcbiAgICAgIFxuICAgICAgLy8gU2F2ZSB3aXRoIGNvbXByZXNzaW9uIG9wdGlvbnNcbiAgICAgIGNvbnN0IHBkZkJ5dGVzQ29tcHJlc3NlZCA9IGF3YWl0IHBkZi5zYXZlKHtcbiAgICAgICAgdXNlT2JqZWN0U3RyZWFtczogdHJ1ZSxcbiAgICAgICAgYWRkRGVmYXVsdFBhZ2U6IGZhbHNlLFxuICAgICAgICBwcmVzZXJ2ZVBkZkE6IGZhbHNlXG4gICAgICB9KVxuICAgICAgXG4gICAgICBmcy53cml0ZUZpbGVTeW5jKG91dHB1dFBhdGgsIHBkZkJ5dGVzQ29tcHJlc3NlZClcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZmlsZVBhdGg6IG91dHB1dFBhdGgsXG4gICAgICAgIGZpbGVTaXplOiBwZGZCeXRlc0NvbXByZXNzZWQubGVuZ3RoXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnRmFpbGVkIHRvIGNvbXByZXNzIFBERidcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhc3luYyByb3RhdGVQREYoZmlsZVBhdGg6IHN0cmluZywgb3B0aW9uczogUm90YXRlT3B0aW9ucyk6IFByb21pc2U8UERGT3BlcmF0aW9uUmVzdWx0PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHBkZkJ5dGVzID0gZnMucmVhZEZpbGVTeW5jKGZpbGVQYXRoKVxuICAgICAgY29uc3QgcGRmID0gYXdhaXQgUERGRG9jdW1lbnQubG9hZChwZGZCeXRlcylcbiAgICAgIFxuICAgICAgY29uc3QgcGFnZXMgPSBwZGYuZ2V0UGFnZXMoKVxuICAgICAgY29uc3QgcGFnZXNUb1JvdGF0ZSA9IG9wdGlvbnMucGFnZXMgPT09ICdhbGwnIFxuICAgICAgICA/IHBhZ2VzIFxuICAgICAgICA6IG9wdGlvbnMucGFnZXM/Lm1hcChpID0+IHBhZ2VzW2kgLSAxXSkuZmlsdGVyKEJvb2xlYW4pIHx8IFtdXG4gICAgICBcbiAgICAgIHBhZ2VzVG9Sb3RhdGUuZm9yRWFjaChwYWdlID0+IHtcbiAgICAgICAgcGFnZS5zZXRSb3RhdGlvbihwYWdlLmdldFJvdGF0aW9uKCkgKyAob3B0aW9ucy5yb3RhdGlvbiAqIE1hdGguUEkgLyAxODApKVxuICAgICAgfSlcblxuICAgICAgY29uc3Qgb3V0cHV0RmlsZU5hbWUgPSBvcHRpb25zLm91dHB1dEZpbGVOYW1lIHx8IGByb3RhdGVkXyR7dXVpZHY0KCl9LnBkZmBcbiAgICAgIGNvbnN0IG91dHB1dFBhdGggPSBwYXRoLmpvaW4odGhpcy5vdXRwdXREaXIsIG91dHB1dEZpbGVOYW1lKVxuICAgICAgY29uc3Qgcm90YXRlZFBkZkJ5dGVzID0gYXdhaXQgcGRmLnNhdmUoKVxuICAgICAgXG4gICAgICBmcy53cml0ZUZpbGVTeW5jKG91dHB1dFBhdGgsIHJvdGF0ZWRQZGZCeXRlcylcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZmlsZVBhdGg6IG91dHB1dFBhdGgsXG4gICAgICAgIGZpbGVTaXplOiByb3RhdGVkUGRmQnl0ZXMubGVuZ3RoXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnRmFpbGVkIHRvIHJvdGF0ZSBQREYnXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgYWRkV2F0ZXJtYXJrKGZpbGVQYXRoOiBzdHJpbmcsIG9wdGlvbnM6IFdhdGVybWFya09wdGlvbnMpOiBQcm9taXNlPFBERk9wZXJhdGlvblJlc3VsdD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwZGZCeXRlcyA9IGZzLnJlYWRGaWxlU3luYyhmaWxlUGF0aClcbiAgICAgIGNvbnN0IHBkZiA9IGF3YWl0IFBERkRvY3VtZW50LmxvYWQocGRmQnl0ZXMpXG4gICAgICBjb25zdCBwYWdlcyA9IHBkZi5nZXRQYWdlcygpXG4gICAgICBcbiAgICAgIGNvbnN0IGZvbnQgPSBhd2FpdCBwZGYuZW1iZWRGb250KFN0YW5kYXJkRm9udHMuSGVsdmV0aWNhKVxuICAgICAgY29uc3QgZm9udFNpemUgPSBvcHRpb25zLmZvbnRTaXplIHx8IDI0XG4gICAgICBjb25zdCBvcGFjaXR5ID0gb3B0aW9ucy5vcGFjaXR5IHx8IDAuM1xuICAgICAgY29uc3QgY29sb3IgPSBvcHRpb25zLmNvbG9yIHx8ICcjMDAwMDAwJ1xuICAgICAgXG4gICAgICAvLyBQYXJzZSBjb2xvciAoc2ltcGxlIGhleCB0byBSR0IgY29udmVyc2lvbilcbiAgICAgIGNvbnN0IHIgPSBwYXJzZUludChjb2xvci5zbGljZSgxLCAzKSwgMTYpIC8gMjU1XG4gICAgICBjb25zdCBnID0gcGFyc2VJbnQoY29sb3Iuc2xpY2UoMywgNSksIDE2KSAvIDI1NVxuICAgICAgY29uc3QgYiA9IHBhcnNlSW50KGNvbG9yLnNsaWNlKDUsIDcpLCAxNikgLyAyNTVcblxuICAgICAgZm9yIChjb25zdCBwYWdlIG9mIHBhZ2VzKSB7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gcGFnZS5nZXRTaXplKClcbiAgICAgICAgbGV0IHggPSB3aWR0aCAvIDJcbiAgICAgICAgbGV0IHkgPSBoZWlnaHQgLyAyXG5cbiAgICAgICAgLy8gQWRqdXN0IHBvc2l0aW9uIGJhc2VkIG9uIG9wdGlvbnNcbiAgICAgICAgc3dpdGNoIChvcHRpb25zLnBvc2l0aW9uKSB7XG4gICAgICAgICAgY2FzZSAndG9wLWxlZnQnOlxuICAgICAgICAgICAgeCA9IDUwXG4gICAgICAgICAgICB5ID0gaGVpZ2h0IC0gNTBcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgY2FzZSAndG9wLXJpZ2h0JzpcbiAgICAgICAgICAgIHggPSB3aWR0aCAtIDUwXG4gICAgICAgICAgICB5ID0gaGVpZ2h0IC0gNTBcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgY2FzZSAnYm90dG9tLWxlZnQnOlxuICAgICAgICAgICAgeCA9IDUwXG4gICAgICAgICAgICB5ID0gNTBcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgY2FzZSAnYm90dG9tLXJpZ2h0JzpcbiAgICAgICAgICAgIHggPSB3aWR0aCAtIDUwXG4gICAgICAgICAgICB5ID0gNTBcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgZGVmYXVsdDogLy8gY2VudGVyXG4gICAgICAgICAgICBicmVha1xuICAgICAgICB9XG5cbiAgICAgICAgcGFnZS5kcmF3VGV4dChvcHRpb25zLnRleHQsIHtcbiAgICAgICAgICB4OiB4IC0gKG9wdGlvbnMudGV4dC5sZW5ndGggKiBmb250U2l6ZSAqIDAuMykgLyAyLFxuICAgICAgICAgIHk6IHkgLSBmb250U2l6ZSAvIDIsXG4gICAgICAgICAgc2l6ZTogZm9udFNpemUsXG4gICAgICAgICAgZm9udDogZm9udCxcbiAgICAgICAgICBjb2xvcjogcmdiKHIsIGcsIGIpLFxuICAgICAgICAgIG9wYWNpdHk6IG9wYWNpdHlcbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgY29uc3Qgb3V0cHV0RmlsZU5hbWUgPSBvcHRpb25zLm91dHB1dEZpbGVOYW1lIHx8IGB3YXRlcm1hcmtlZF8ke3V1aWR2NCgpfS5wZGZgXG4gICAgICBjb25zdCBvdXRwdXRQYXRoID0gcGF0aC5qb2luKHRoaXMub3V0cHV0RGlyLCBvdXRwdXRGaWxlTmFtZSlcbiAgICAgIGNvbnN0IHdhdGVybWFya2VkUGRmQnl0ZXMgPSBhd2FpdCBwZGYuc2F2ZSgpXG4gICAgICBcbiAgICAgIGZzLndyaXRlRmlsZVN5bmMob3V0cHV0UGF0aCwgd2F0ZXJtYXJrZWRQZGZCeXRlcylcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZmlsZVBhdGg6IG91dHB1dFBhdGgsXG4gICAgICAgIGZpbGVTaXplOiB3YXRlcm1hcmtlZFBkZkJ5dGVzLmxlbmd0aFxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBhZGQgd2F0ZXJtYXJrJ1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHVubG9ja1BERihmaWxlUGF0aDogc3RyaW5nLCBvcHRpb25zOiBVbmxvY2tPcHRpb25zID0ge30pOiBQcm9taXNlPFBERk9wZXJhdGlvblJlc3VsdD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwZGZCeXRlcyA9IGZzLnJlYWRGaWxlU3luYyhmaWxlUGF0aClcbiAgICAgIFxuICAgICAgLy8gRm9yIGJhc2ljIHBhc3N3b3JkIHJlbW92YWwsIHdlIGp1c3QgY3JlYXRlIGEgbmV3IFBERiB3aXRob3V0IGVuY3J5cHRpb25cbiAgICAgIC8vIE5vdGU6IFRoaXMgaXMgYSBzaW1wbGlmaWVkIHZlcnNpb24uIFJlYWwgcGFzc3dvcmQgcmVtb3ZhbCB3b3VsZCByZXF1aXJlIHRoZSBwYXNzd29yZFxuICAgICAgY29uc3QgcGRmID0gYXdhaXQgUERGRG9jdW1lbnQubG9hZChwZGZCeXRlcywge1xuICAgICAgICBpZ25vcmVFbmNyeXB0aW9uOiB0cnVlXG4gICAgICB9KVxuXG4gICAgICBjb25zdCBvdXRwdXRGaWxlTmFtZSA9IG9wdGlvbnMub3V0cHV0RmlsZU5hbWUgfHwgYHVubG9ja2VkXyR7dXVpZHY0KCl9LnBkZmBcbiAgICAgIGNvbnN0IG91dHB1dFBhdGggPSBwYXRoLmpvaW4odGhpcy5vdXRwdXREaXIsIG91dHB1dEZpbGVOYW1lKVxuICAgICAgY29uc3QgdW5sb2NrZWRQZGZCeXRlcyA9IGF3YWl0IHBkZi5zYXZlKClcbiAgICAgIFxuICAgICAgZnMud3JpdGVGaWxlU3luYyhvdXRwdXRQYXRoLCB1bmxvY2tlZFBkZkJ5dGVzKVxuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBmaWxlUGF0aDogb3V0cHV0UGF0aCxcbiAgICAgICAgZmlsZVNpemU6IHVubG9ja2VkUGRmQnl0ZXMubGVuZ3RoXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnRmFpbGVkIHRvIHVubG9jayBQREYnXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgY29udmVydFBERihmaWxlUGF0aDogc3RyaW5nLCBvcHRpb25zOiBDb252ZXJ0T3B0aW9ucyk6IFByb21pc2U8UERGT3BlcmF0aW9uUmVzdWx0PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFRoaXMgaXMgYSBwbGFjZWhvbGRlciBmb3IgUERGIGNvbnZlcnNpb25cbiAgICAgIC8vIEluIGEgcmVhbCBpbXBsZW1lbnRhdGlvbiwgeW91IHdvdWxkIHVzZSBsaWJyYXJpZXMgbGlrZSBwZGYycGljIGZvciBpbWFnZSBjb252ZXJzaW9uXG4gICAgICAvLyBvciBzcGVjaWFsaXplZCBsaWJyYXJpZXMgZm9yIFdvcmQvdGV4dCBjb252ZXJzaW9uXG4gICAgICBcbiAgICAgIGNvbnN0IG91dHB1dEZpbGVOYW1lID0gb3B0aW9ucy5vdXRwdXRGaWxlTmFtZSB8fCBgY29udmVydGVkXyR7dXVpZHY0KCl9LiR7b3B0aW9ucy5mb3JtYXR9YFxuICAgICAgY29uc3Qgb3V0cHV0UGF0aCA9IHBhdGguam9pbih0aGlzLm91dHB1dERpciwgb3V0cHV0RmlsZU5hbWUpXG4gICAgICBcbiAgICAgIC8vIEZvciBub3csIGp1c3QgY29weSB0aGUgZmlsZSBhcyBhIHBsYWNlaG9sZGVyXG4gICAgICBmcy5jb3B5RmlsZVN5bmMoZmlsZVBhdGgsIG91dHB1dFBhdGgpXG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGZpbGVQYXRoOiBvdXRwdXRQYXRoLFxuICAgICAgICBmaWxlU2l6ZTogZnMuc3RhdFN5bmMob3V0cHV0UGF0aCkuc2l6ZVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBjb252ZXJ0IFBERidcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBVdGlsaXR5IG1ldGhvZCB0byBjbGVhbiB1cCBvbGQgZmlsZXNcbiAgY2xlYW51cE9sZEZpbGVzKG1heEFnZTogbnVtYmVyID0gMzYwMDAwMCkgeyAvLyAxIGhvdXIgZGVmYXVsdFxuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KClcbiAgICBcbiAgICBbdGhpcy51cGxvYWREaXIsIHRoaXMub3V0cHV0RGlyXS5mb3JFYWNoKGRpciA9PiB7XG4gICAgICBpZiAoZnMuZXhpc3RzU3luYyhkaXIpKSB7XG4gICAgICAgIGNvbnN0IGZpbGVzID0gZnMucmVhZGRpclN5bmMoZGlyKVxuICAgICAgICBmaWxlcy5mb3JFYWNoKGZpbGUgPT4ge1xuICAgICAgICAgIGNvbnN0IGZpbGVQYXRoID0gcGF0aC5qb2luKGRpciwgZmlsZSlcbiAgICAgICAgICBjb25zdCBzdGF0cyA9IGZzLnN0YXRTeW5jKGZpbGVQYXRoKVxuICAgICAgICAgIFxuICAgICAgICAgIGlmIChub3cgLSBzdGF0cy5tdGltZS5nZXRUaW1lKCkgPiBtYXhBZ2UpIHtcbiAgICAgICAgICAgIGZzLnVubGlua1N5bmMoZmlsZVBhdGgpXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0pXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHBkZlByb2Nlc3NvciA9IG5ldyBQREZQcm9jZXNzb3IoKSJdLCJuYW1lcyI6WyJQREZEb2N1bWVudCIsInJnYiIsIlN0YW5kYXJkRm9udHMiLCJmcyIsInBhdGgiLCJ2NCIsInV1aWR2NCIsIlBERlByb2Nlc3NvciIsImNvbnN0cnVjdG9yIiwidXBsb2FkRGlyIiwiam9pbiIsIm91dHB1dERpciIsImV4aXN0c1N5bmMiLCJta2RpclN5bmMiLCJyZWN1cnNpdmUiLCJtZXJnZVBERnMiLCJmaWxlUGF0aHMiLCJvcHRpb25zIiwibWVyZ2VkUGRmIiwiY3JlYXRlIiwiZmlsZVBhdGgiLCJwZGZCeXRlcyIsInJlYWRGaWxlU3luYyIsInBkZiIsImxvYWQiLCJwYWdlcyIsImNvcHlQYWdlcyIsImdldFBhZ2VJbmRpY2VzIiwiZm9yRWFjaCIsInBhZ2UiLCJhZGRQYWdlIiwib3V0cHV0RmlsZU5hbWUiLCJvdXRwdXRQYXRoIiwibWVyZ2VkUGRmQnl0ZXMiLCJzYXZlIiwid3JpdGVGaWxlU3luYyIsInN1Y2Nlc3MiLCJmaWxlU2l6ZSIsImxlbmd0aCIsImVycm9yIiwiRXJyb3IiLCJtZXNzYWdlIiwic3BsaXRQREYiLCJyZXN1bHRzIiwiaSIsInBhZ2VSYW5nZXMiLCJyYW5nZSIsIm5ld1BkZiIsInBhZ2VOdW0iLCJnZXRQYWdlQ291bnQiLCJyZXBsYWNlIiwibmV3UGRmQnl0ZXMiLCJwdXNoIiwic3RhdFN5bmMiLCJzaXplIiwiY29tcHJlc3NQREYiLCJwZGZCeXRlc0NvbXByZXNzZWQiLCJ1c2VPYmplY3RTdHJlYW1zIiwiYWRkRGVmYXVsdFBhZ2UiLCJwcmVzZXJ2ZVBkZkEiLCJyb3RhdGVQREYiLCJnZXRQYWdlcyIsInBhZ2VzVG9Sb3RhdGUiLCJtYXAiLCJmaWx0ZXIiLCJCb29sZWFuIiwic2V0Um90YXRpb24iLCJnZXRSb3RhdGlvbiIsInJvdGF0aW9uIiwiTWF0aCIsIlBJIiwicm90YXRlZFBkZkJ5dGVzIiwiYWRkV2F0ZXJtYXJrIiwiZm9udCIsImVtYmVkRm9udCIsIkhlbHZldGljYSIsImZvbnRTaXplIiwib3BhY2l0eSIsImNvbG9yIiwiciIsInBhcnNlSW50Iiwic2xpY2UiLCJnIiwiYiIsIndpZHRoIiwiaGVpZ2h0IiwiZ2V0U2l6ZSIsIngiLCJ5IiwicG9zaXRpb24iLCJkcmF3VGV4dCIsInRleHQiLCJ3YXRlcm1hcmtlZFBkZkJ5dGVzIiwidW5sb2NrUERGIiwiaWdub3JlRW5jcnlwdGlvbiIsInVubG9ja2VkUGRmQnl0ZXMiLCJjb252ZXJ0UERGIiwiZm9ybWF0IiwiY29weUZpbGVTeW5jIiwiY2xlYW51cE9sZEZpbGVzIiwibWF4QWdlIiwibm93IiwiRGF0ZSIsImRpciIsImZpbGVzIiwicmVhZGRpclN5bmMiLCJmaWxlIiwic3RhdHMiLCJtdGltZSIsImdldFRpbWUiLCJ1bmxpbmtTeW5jIiwicGRmUHJvY2Vzc29yIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/pdf-utils.ts\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("@prisma/client");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/uuid","vendor-chunks/pdf-lib","vendor-chunks/@pdf-lib","vendor-chunks/pako"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fpdf%2Fmerge%2Froute&page=%2Fapi%2Fpdf%2Fmerge%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpdf%2Fmerge%2Froute.ts&appDir=%2FUsers%2Ff2i1%2FDocuments%2FGitHub%2Fworkspace-EasyPDF1%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ff2i1%2FDocuments%2FGitHub%2Fworkspace-EasyPDF1&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();